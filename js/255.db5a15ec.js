"use strict";(self["webpackChunkgreatest_work"]=self["webpackChunkgreatest_work"]||[]).push([[255],{4710:function(t,e,a){a.d(e,{Ec:function(){return o},dg:function(){return n},fb:function(){return u}});const i=()=>[{label:"未发布",value:0,status:"processing"},{label:"已发布",value:1,status:"success"},{label:"发布中",value:2,status:"warning"}],s=()=>[{label:"初始化完成",value:0,status:"processing"},{label:"正常运行中",value:1,status:"success"},{label:"编译中",value:2,status:"warning"}],l=()=>[{label:"未上线",value:0,status:"processing"},{label:"正常运行",value:1,status:"success"},{label:"已下线",value:2,status:"warning"}],n=t=>s().find((e=>e.value===t)),o=t=>i().find((e=>e.value===t)),u=t=>l().find((e=>e.value===t))},4004:function(t,e,a){a.d(e,{PO:function(){return l},zF:function(){return s},Av:function(){return n}});var i={site:"站点",siteName:"站点名称",siteId:"站点 ID",siteStatus:"运行状态",siteTheme:"站点主题",sitePath:"站点根路径",siteLink:"站点链接",siteLogo:"站点 Logo",createTime:"创建时间",updateTime:"更新时间",articleTotal:"文章数量",optional:"操作",friendshipName:"友链名称",friendshipDescText:"友链描述信息",friendshipStatus:"友链状态",friendshipLogo:"友链 Logo",friendshipLink:"友链链接"};const s=[{title:i.siteName,dataIndex:"name",slotName:"siteInfo",ellipsis:!0},{title:i.siteStatus,dataIndex:"status",slotName:"status",ellipsis:!0,width:180,align:"center"},{title:i.siteLink,dataIndex:"siteLink",slotName:"siteLink",width:180,ellipsis:!0},{title:i.articleTotal,dataIndex:"articleTotal",tooltip:!0,align:"center",width:120,ellipsis:!0},{title:i.createTime,dataIndex:"createTime",tooltip:!0,ellipsis:!0},{title:i.updateTime,dataIndex:"updateTime",tooltip:!0,ellipsis:!0},{title:i.optional,width:240,slotName:"optional",align:"center"}],l=[{key:"logo",type:"img",label:i.siteLogo},{key:"name",type:"text",label:i.siteName},{key:"articleTotal",type:"text",label:i.articleTotal},{key:"status",type:"badge",label:i.siteStatus},{key:"siteLink",type:"link",label:i.siteLink},{key:"path",type:"text",label:i.sitePath},{key:"id",type:"text",label:i.siteId},{key:"createTime",type:"time",label:i.createTime},{key:"updateTime",type:"time",label:i.updateTime}],n=()=>[{title:i.friendshipName,dataIndex:"name",tooltip:!0,ellipsis:!0},{title:i.friendshipLogo,slotName:"logo",ellipsis:!0},{title:i.friendshipStatus,slotName:"status",ellipsis:!0},{title:i.friendshipLink,dataIndex:"link",ellipsis:!0},{title:i.friendshipDescText,dataIndex:"descText",tooltip:!0,ellipsis:!0},{title:i.optional,align:"center",slotName:"optional"}]},8255:function(t,e,a){a.r(e),a.d(e,{default:function(){return N}});var i=a(3396);const s=(0,i.Uk)(" Content of Tab Panel 2 ");function l(t,e,a,l,n,o){const u=(0,i.up)("BaseInfo"),d=(0,i.up)("a-tab-pane"),p=(0,i.up)("Friendship"),r=(0,i.up)("a-tabs"),c=(0,i.up)("a-page-header"),g=(0,i.up)("a-spin");return(0,i.wg)(),(0,i.j4)(g,{loading:l.loading,tip:"加载站点信息中"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{onBack:l.back,title:"站点详情",subtitle:l.detail.baseInfo.name},{default:(0,i.w5)((()=>[l.loading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(r,{key:0,style:{"min-width":"700px"},"default-active-key":"0",position:"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{key:"0",title:"基本信息"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{detail:l.detail.baseInfo},null,8,["detail"])])),_:1}),(0,i.Wm)(d,{key:"1",title:"友情链接"},{default:(0,i.w5)((()=>[(0,i.Wm)(p)])),_:1}),(0,i.Wm)(d,{key:"2",title:"评论配置"},{default:(0,i.w5)((()=>[s])),_:1}),(0,i.Wm)(d,{key:"3",title:"主题设置"}),(0,i.Wm)(d,{key:"4",title:"订阅者信息"})])),_:1}))])),_:1},8,["onBack","subtitle"])])),_:1},8,["loading"])}var n=a(4870),o=a(2483),u=a(7139);const d={class:"base-info_layout"},p={class:"base-info_label"},r={class:"base-info_value"};function c(t,e,a,s,l,n){const o=(0,i.up)("a-link"),c=(0,i.up)("a-badge"),g=(0,i.up)("a-image"),f=(0,i.up)("a-col"),b=(0,i.up)("a-row");return(0,i.wg)(),(0,i.j4)(b,{gutter:24},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.baseInfoConf,(t=>((0,i.wg)(),(0,i.j4)(f,{span:24,key:t.type+t.label},{default:(0,i.w5)((()=>[(0,i._)("div",d,[(0,i._)("p",p,(0,u.zw)(t.label),1),(0,i._)("p",r,["link"===t.type?((0,i.wg)(),(0,i.j4)(o,{key:0,href:s.baseInfo[t.key]},{default:(0,i.w5)((()=>[(0,i.Uk)((0,u.zw)(s.baseInfo[t.key]),1)])),_:2},1032,["href"])):"badge"===t.type?((0,i.wg)(),(0,i.j4)(c,{key:1,status:s.getSiteStatus(s.baseInfo[t.key]).status,text:s.getSiteStatus(s.baseInfo[t.key]).label},null,8,["status","text"])):"time"===t.type?((0,i.wg)(),(0,i.iD)(i.HY,{key:2},[(0,i.Uk)((0,u.zw)(s.DateType(s.baseInfo[t.key])),1)],64)):"img"===t.type?((0,i.wg)(),(0,i.j4)(g,{key:3,width:"80",src:s.baseInfo[t.key]},null,8,["src"])):((0,i.wg)(),(0,i.iD)(i.HY,{key:4},[(0,i.Uk)((0,u.zw)(s.baseInfo[t.key]),1)],64))])])])),_:2},1024)))),128))])),_:1})}var g=a(4004),f=a(9049),b=a(4710),m={name:"site-base-info",props:{detail:Object},setup(t){const{detail:e}=(0,n.BK)(t),a=(0,n.qj)([]);return{baseInfo:e,data:a,baseInfoConf:g.PO,getSiteStatus:b.dg,DateType:f.U}}},k=a(89);const y=(0,k.Z)(m,[["render",c],["__scopeId","data-v-0027c990"]]);var w=y;const h={class:"layout_main"},v=(0,i.Uk)(" 编辑 "),I=(0,i.Uk)(" 删除 ");function x(t,e,a,s,l,n){const o=(0,i.up)("a-badge"),u=(0,i.up)("a-image"),d=(0,i.up)("a-button"),p=(0,i.up)("a-table");return(0,i.wg)(),(0,i.iD)("div",h,[(0,i.Wm)(p,{loading:t.loading,bordered:!1,columns:s.columns,pagination:s.data.pagination,onPageChange:s.getList,data:s.data.list},{status:(0,i.w5)((({record:t})=>[(0,i.Wm)(o,{status:s.getFriendshipStatus(t.status).status,text:s.getFriendshipStatus(t.status).label},null,8,["status","text"])])),logo:(0,i.w5)((({record:t})=>[(0,i.Wm)(u,{height:"40",width:"40",src:t.logo},null,8,["src"])])),optional:(0,i.w5)((({record:t})=>[(0,i.Wm)(d,{type:"text",onClick:e=>s.editFriendship(t)},{default:(0,i.w5)((()=>[v])),_:2},1032,["onClick"]),(0,i.Wm)(d,{type:"text",status:"danger"},{default:(0,i.w5)((()=>[I])),_:1})])),_:1},8,["loading","columns","pagination","onPageChange","data"])])}var _={name:"site-friendship",setup(){const{getFriendshipList:t}=(0,i.f3)("api"),e=(0,o.tv)(),{siteId:a}=e.currentRoute.value?.params,s=(0,n.iH)(!1);(0,i.bv)((async()=>{await u()}));const l=(0,n.qj)({list:[],pagination:{total:0}}),u=async(e=1)=>{s.value=!0;const i={siteId:a,limit:10,offset:e},{items:n,total:o}=await t(i);l.pagination.total=o,l.list=n,s.value=!1},d=t=>{console.log(t)};return{data:l,columns:(0,g.Av)(),getList:u,getFriendshipStatus:b.fb,editFriendship:d}}};const T=(0,k.Z)(_,[["render",x]]);var L=T,S={name:"site-detail",components:{BaseInfo:w,Friendship:L},setup(){const t=(0,o.tv)(),{getSiteInfo:e}=(0,i.f3)("api"),a=(0,n.iH)(!0);(0,i.bv)((async()=>{await l()}));const s=(0,n.qj)({baseInfo:{}}),l=async()=>{a.value=!0;const{siteId:i}=t.currentRoute.value?.params;s.baseInfo=await e(i),a.value=!1},u=()=>{t.push("/site/list")};return{detail:s,getInfo:l,back:u,loading:a}}};const W=(0,k.Z)(S,[["render",l]]);var N=W}}]);